{"version":3,"sources":["actions/index.js","components/Pad.js","components/PadItem.js","components/KeyList.js","reducers/operator.js","components/Screen.js","functions/index.js","Calculator.js","App.js","reducers/index.js","reducers/result.js","reducers/isCalAble.js","reducers/isInputAble.js","index.js"],"names":["operatorString","keyName","type","operatorReset","operatorBack","operatorEqual","result","data","isInputAble","operator","isCalAble","Pad","operatorCurrentString","useSelector","state","inputStatus","calStatus","dispatch","useDispatch","handleClick","element","eval","console","log","useEffect","PadItems","keyList","map","e","id","style","background","symbol","onClick","className","PadItem","props","operatorReducer","action","concat","x","split","pop","newState","join","toString","Operator","color","Result","Screen","isInputError","operatorStr","regex1","RegExp","regex2","regex3","match","match1","match2","length","Calculator","Fragment","App","allReducers","combineReducers","undefined","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a80da922.chunk.js","sourcesContent":["export const operatorString = (keyName) => {\r\n    return {\r\n        type: \"operatorString\",\r\n        keyName\r\n    }\r\n}\r\n\r\nexport const operatorReset = () => {\r\n    return {\r\n        type: \"operatorReset\"\r\n    }\r\n}\r\n\r\nexport const operatorBack = () => {\r\n    return {\r\n        type: \"operatorBack\"\r\n    }\r\n}\r\n\r\nexport const operatorEqual = (operatorString) => {\r\n    return {\r\n        type: \"operatorEqual\",\r\n        operatorString,\r\n    }\r\n}\r\n\r\nexport const result = (data) => {\r\n    return {\r\n        type: \"result\",\r\n        data,\r\n    }\r\n}\r\n\r\nexport const isInputAble = (operator) => {\r\n    return {\r\n        type: \"isInputAble\",\r\n        operator,\r\n    }\r\n}\r\n\r\nexport const isCalAble = (operator) => {\r\n    return {\r\n        type: \"isCalAble\",\r\n        operator,\r\n    }\r\n}","import React from 'react'\r\nimport PadItem from './PadItem'\r\nimport { operatorString, operatorReset, operatorBack, operatorEqual, result } from '../actions'\r\nimport { useSelector, useDispatch } from \"react-redux\"\r\nimport { useEffect } from \"react\"\r\nimport { keyList } from './KeyList'\r\n\r\nimport { isInputAble, isCalAble } from \"../actions\"\r\n\r\nfunction Pad() {\r\n\r\n    const operatorCurrentString = useSelector(state => state.operator)\r\n    const inputStatus = useSelector(state => state.isInputAble)\r\n    const calStatus = useSelector(state => state.isCalAble)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const handleClick = (element) => {\r\n \r\n        if (!inputStatus && element !== \"AC\" && element !== \"<\") {\r\n            console.log(\"Lỗi nhập. Không thể nhập tiếp.\")\r\n        } else {\r\n            switch(element) {\r\n                case \"AC\":\r\n                    dispatch(operatorReset())\r\n                    dispatch(result(\"\"))\r\n                    break\r\n                case \"<\":\r\n                    dispatch(operatorBack())\r\n                    break\r\n                case \"=\":\r\n                    calStatus\r\n                    && dispatch(operatorEqual(operatorCurrentString)) \r\n                    && dispatch(result(eval(operatorCurrentString)))\r\n                    break\r\n                default:\r\n                    dispatch(operatorString(element))\r\n                    break\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch(isInputAble(operatorCurrentString))\r\n        dispatch(isCalAble(operatorCurrentString))\r\n    }, [operatorCurrentString])\r\n\r\n    const PadItems = () => {\r\n        return keyList.map(e => \r\n            <PadItem \r\n                key={e} \r\n                id={\r\n                    e === \"+\" ? \"key-plus\" :\r\n                    e === \"-\" ? \"key-minus\" :\r\n                    e === \"*\" ? \"key-multiply\" :\r\n                    e === \"/\" ? \"key-division\" :\r\n                    e === \".\" ? \"key-decimal\" :\r\n                    e === \"=\" ? \"key-equal\" :\r\n                    e === \"<\" ? \"key-back\" :\r\n                    `key-${e}`\r\n                }\r\n                style={{ background: `${e === \"AC\" && \"#d17354\"}` }}\r\n                symbol={e} \r\n                onClick={() => handleClick(e)}\r\n                />\r\n            )\r\n    }\r\n\r\n    return (\r\n        <div className=\"grid grid-cols-4 gap-1\">\r\n            { PadItems() }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Pad","import React from 'react'\r\n\r\nfunction PadItem(props) {\r\n    return (\r\n        <div\r\n            id={props.id}\r\n            className=\"bg-gray-600 text-white cursor-pointer aspect-w-2 aspect-h-1\"\r\n            style={props.style}\r\n            onClick={props.onClick}>\r\n            <div \r\n                className=\"flex justify-center items-center font-bold text-2xl\">\r\n                {props.symbol}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PadItem","export const keyList = [\r\n    \"AC\",\r\n    \"<\",\r\n    \"+\",\r\n    \"7\",\r\n    \"8\",\r\n    \"9\",\r\n    \"-\",\r\n    \"4\",\r\n    \"5\",\r\n    \"6\",\r\n    \"*\",\r\n    \"1\",\r\n    \"2\",\r\n    \"3\",\r\n    \"/\",\r\n    \"0\",\r\n    \".\",\r\n    \"=\"\r\n]","/**\r\n ** OPERATOR REDUCER\r\n ** Manage the state of operator that show on the screen\r\n */\r\nexport const operatorReducer = (state = \"\", action) => {\r\n\r\n    switch(action.type) {\r\n        case \"operatorString\":\r\n            return state.concat(action.keyName)\r\n        case \"operatorReset\":\r\n            return \"\"\r\n        case \"operatorBack\":\r\n            let x = state.split(\"\")\r\n            x.pop()\r\n            let newState = x.join(\"\")\r\n            return newState\r\n        case \"operatorEqual\":\r\n            return eval(action.operatorString).toString()\r\n        default:\r\n            return state\r\n    }\r\n}","import React from 'react'\r\nimport { useSelector } from \"react-redux\"\r\n\r\nfunction Operator() {\r\n    const operator = useSelector(state => state.operator)\r\n    const inputStatus = useSelector(state => state.isInputAble)\r\n\r\n    return (\r\n        <span\r\n            style={{ color: `${inputStatus ? \"green\" : \"red\" }` }} \r\n            className=\"text-lg h-10\">\r\n            {operator}\r\n        </span>\r\n    )\r\n}\r\n\r\nfunction Result() {\r\n    const result = useSelector(state => state.result)\r\n    return (\r\n        <span className=\"text-4xl h-16\">{result}</span>\r\n    )\r\n}\r\n\r\nfunction Screen() {\r\n    return (\r\n        <div className=\"flex flex-col bg-white text-right font-bold font-mono px-4 py-8\">\r\n            <Operator />\r\n            <Result />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Screen","export const isInputError = (operatorStr) => {\r\n    const regex1 = new RegExp(/(\\D{2,})/, \"g\")\r\n    const regex2 = new RegExp(/(^\\.)|(\\.{2,})|\\.[0-9]+\\./, \"g\") // Match errors relating to \".\"\r\n    const regex3 = new RegExp(/(0{2,})|(0)([0-9])/, \"g\") // Match errors relating to \"0\"\r\n\r\n    if (operatorStr === \"\") {\r\n        return false\r\n    } else if (operatorStr.match(regex1) !== null) {\r\n        return true\r\n    } else if (operatorStr.match(regex2) !== null) {\r\n        return true\r\n    } else if (operatorStr.match(regex3) !== null) {\r\n        return true\r\n    } else {\r\n        return false\r\n    }\r\n}\r\n\r\n// ? Check if the state operater matchs the string \"+, -, *, /\" at the beginning and the bottom of the tring\r\nexport const isCalAble = (operatorStr) => {\r\n    const regex1 = new RegExp(/^(\\+|-|\\*|\\/)|(\\+|-|\\*|\\/)$/, \"g\")\r\n    const regex2 = new RegExp(/\\./, \"g\")\r\n    const match1 = operatorStr.match(regex1)\r\n    const match2 = operatorStr.match(regex2)\r\n    if (match1 === null) {\r\n        return true\r\n    } else {\r\n        if (match1.length !== 0) {\r\n            return false\r\n        } else if (match2.length >= 2) {\r\n\r\n        } else {\r\n            return true\r\n        }\r\n    }\r\n}\r\n\r\nexport const isMatchRemainder = (str) => {\r\n    const matchRemainderRegex = new RegExp(/%$/, \"g\")\r\n    const matched = str.match(matchRemainderRegex)\r\n    return matched === null ? false : true\r\n}","import React from 'react'\r\nimport Screen from './components/Screen'\r\nimport Pad from './components/Pad'\r\n\r\nimport { isInputError } from './functions'\r\n\r\nconsole.log(isInputError(\"8\"))\r\n\r\nfunction Calculator() {\r\n    return (\r\n        <React.Fragment>\r\n            <div className=\"w-full p-4\">\r\n                <div className=\"rounded-lg overflow-hidden\">\r\n                    <Screen />\r\n                    <Pad />\r\n                </div>\r\n            </div>\r\n        </React.Fragment>\r\n\r\n    )\r\n}\r\n\r\nexport default Calculator","import React from 'react'\nimport Calculator from \"./Calculator\"\n\nfunction App() {\n  return (\n    <Calculator />\n  );\n}\n\nexport default App;\n","import { operatorReducer } from \"./operator\";\r\nimport { resultReducer } from \"./result\"\r\nimport { isCalAbleReducer } from \"./isCalAble\";\r\nimport { isInputAbleReducer } from \"./isInputAble\";\r\nimport { combineReducers } from \"redux\";\r\n\r\nconst allReducers = combineReducers({\r\n    operator: operatorReducer,\r\n    result: resultReducer,\r\n    isCalAble: isCalAbleReducer,\r\n    isInputAble: isInputAbleReducer\r\n})\r\n\r\nexport default allReducers","export const resultReducer = (state = \"\", action) => {\r\n    switch(action.type) {\r\n        case \"result\":\r\n            return action.data !== undefined && action.data\r\n        default: \r\n            return state\r\n    }\r\n}","import { isCalAble } from \"../functions\"\r\n\r\nexport const isCalAbleReducer = (state = true, action) => {\r\n    switch(action.type) {\r\n        case \"isCalAble\":\r\n            return isCalAble(action.operator) ? true : false\r\n        default:\r\n            return state\r\n    }\r\n}","import { isInputError } from \"../functions\"\r\n\r\nexport const isInputAbleReducer = (state = true, action) => {\r\n    switch (action.type) {\r\n        case \"isInputAble\":\r\n            return ( isInputError(action.operator) ? false : true )\r\n        default:\r\n            return state\r\n    }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport allReducers from \"./reducers\"\nimport { Provider } from \"react-redux\"\nimport { createStore } from \"redux\"\n\nconst store = createStore(allReducers, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__())\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n  document.getElementById('root')\n);"],"sourceRoot":""}